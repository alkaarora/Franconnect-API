{"swagger":"2.0","info":{"description":"","version":"1.0","title":"FranConnect API","termsOfService":"","contact":{"name":"FranConnect"}},"basePath":"/manage-finance","tags":[{"name":"REST API","description":"<h3 class=\"western\">REST API Overview</h3>\n<p>The Sales module is used to streamline franchisee recruitment process and manage leads. It allows you to create leads, update leads’ details as they move along the franchise recruitment process, and finally award them franchisees.</p>\n>"},{"name":"Authentication","description":"<p class=\"western\">Authentication in the REST API for Finance happens using OAuth 2.0 with grant type as &ldquo;password&rdquo;. In order to generate an access token, the user has to have a valid FCSky login credential. The subsequent steps are as below:</p><p class=\"western\"></p><ol><li><p>The user has to make a &ldquo;POST&rdquo; type request to&nbsp;<span style=\"color: #0563c1;\"><u><a href=\"https://auth.franconnect.net/userauth/oauth/token\">https://auth.franconnect.net/userauth/oauth/token</a></u></span>.</p></li><li><p>The user has to mention his/ her username and password in the &ldquo;username&rdquo; and &ldquo;password&rdquo; parameters and has to specify the &ldquo;grant_type&rdquo; as &ldquo;password&rdquo;. This needs to be passed in the request as parameters and the request has to be posted as &ldquo;form-data&rdquo;.</p></li><li><p>&ldquo;Authorization&rdquo; needs to be set as &ldquo;Basic Auth&rdquo; and the &ldquo;client_id&rdquo; and &ldquo;client_secret&rdquo; keys are to be mentioned as username and password. This is different for each client and can be obtained from FranConnect&rsquo;s Helpdesk, Advocacy, and/ or Client Operations teams.</p></li><li><p>In the body of the request, the user has to mention &ldquo;Content-Type&rdquo; as &ldquo;application/json&rdquo; (or &ldquo;application/xml) and &ldquo;X-TenantId&rdquo; as the user&rsquo;s FranConnect system&rsquo;s login URL prior to &ldquo;/fc&rdquo;.For e.g., in case the FranConnect system&rsquo;s login URL is <span style=\"color: #0563c1;\"><u><a href=\"https://abc.franconnect.net/fc\">https://abc.franconnect.net/fc</a></u></span>, then the user has to specify &ldquo;abc.franconnect.net&rdquo; as the key for &ldquo;X-TenantId&rdquo;.</p></li><li><p>This would generate an access token that would be valid for 12hrs. After this, the token would no longer be valid and user has to regenerate the token.</p></li></ol>"},{"name":"Retrieve Franchise Number","description":"<p class=\"western\">Franchise Number can be retrieved by making a &ldquo;GET&rdquo; type request to the API endpoint.</p><p class=\"western\"></p><p class=\"western\"><strong>Production API Endpoint : </strong><span style=\"color: #0563c1;\"><u><a href=\"https://skyapi.franconnect.net/common/franchisee\">https://skyapi.franconnect.net/common/franchisee</a></u></span></p><p class=\"western\"><strong>UAT API Endpoint &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </strong><span style=\"color: #0563c1;\"><u><a href=\"https://skyapi.franconnectuat.net/common/franchisee\">https://skyapi.franconnectuat.net/common/franchisee</a></u></span></p><p class=\"western\"><strong>Operation Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </strong> GET</p><p class=\"western\">&nbsp;</p><p class=\"western\">For this, the user has to:</p><p class=\"western\"></p><ol><li><p>Provide &ldquo;Authorization&rdquo; as the key and the value for that should be in the format &ldquo;Bearer access_token&rdquo;. The access_token is the one that is generated as a part of the authentication and the steps for the same can be found <u><a href=\"#tag/Authentication\">here</a></u>.</p></li><li><p>Specify &ldquo;Content-Type&rdquo; as the key and its value as &ldquo;application/json&rdquo;.</p></li><li><p>Mention &ldquo;X-TenantId&rdquo; as the key and its value based on the user&rsquo;s FranConnect system&rsquo;s URL. Details on how to identify the &ldquo;X-TenantId&rdquo; is mentioned <u><a href=\"#tag/Authentication\">here</a></u>.</p></li></ol><p class=\"western\">This would provide the franchise number and the franchise names of all the locations.</p><p class=\"western\">In case the user would like to retrieve the franchise number for a specific location, this is to be done by making a POST type request to the API endpoint along with:</p><ol><li><p>&ldquo;Authorization&rdquo; as the key and its value as &ldquo;Bearer &lt;access_token&gt;&rdquo; wherein the access_token is the one that is generated as a part of the authentication and the steps for the same can be found <u><a href=\"#tag/Authentication\">here</a></u>.</p></li><li><p>Specify &ldquo;Content-Type&rdquo; as the key and its value as &ldquo;application/json&rdquo;.</p></li><li><p>Mention &ldquo;X-TenantId&rdquo; as the key and its value based on the user&rsquo;s FranConnect system&rsquo;s URL. Details on how to identify the &ldquo;X-TenantId&rdquo; is mentioned <u><a href=\"#tag/Authentication\">here</a></u>.</p></li><li><p>In the body of the request, the filter criteria are to be mentioned.</p></li></ol>"},{"name":"Sales - Lead","description":"A lead is a prospect who has shown interest in acquiring a franchisee location."},{"name":"Sales - Compliance","description":"The Compliance section details about the contract and financial agreement associated with the franchise process."},{"name":"Finance - Royalties","description":"This API is to support the Finance Royalty based operation"},{"name":"Finance - Payments","description":"This API is to support the Finance Payment based operation"},{"name":"Finance - Profit and Loss Statements","description":"This API is to support the Finance Profit and Loss based operation"}],"paths":{"/dataservices/create":{"post":{"tags":["Sales - Lead"],"summary":"Create Sales Payments","description":"<p class=\"western\">Payments that are made against a royalty report can be retrieved using the Payments endpoint. A payment can be retrieved by making a POST type of request to the specified API endpoint.</p><p class=\"western\"><strong>Production API Endpoint : </strong>https://skyapi.franconnect.net/manage-finance/payments/filter</p><p class=\"western\"><strong>UAT API Endpoint &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </strong> https://skyapi.franconnectuat.net/manage-finance/payments/filter</p><p class=\"western\"><strong>Operation Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : </strong> POST</p><p class=\"western\">&nbsp;</p><p class=\"western\">Other details that are to be included in the request are:</p><p class=\"western\">1. &ldquo;Authorization&rdquo; as the key name with its value as &ldquo;Bearer &lt;acess_token&gt;&rdquo;. Steps to retrieve the access_token is mentioned <span style=\"color: #0563c1;\"><u><a href=\"#tag/Authentication\">here</a></u></span>.</p><p class=\"western\">2. &ldquo;Content-Type&rdquo; as the key and its value as &ldquo;application/json&rdquo;.</p><p class=\"western\">3. &ldquo;X-TenantId&rdquo; as the key and its value as per the FranConnect system&rsquo;s login URL. Steps to determine the &ldquo;X-TenantId&rdquo; is mentioned <span style=\"color: #0563c1;\"><u><a href=\"#tag/Authentication\">here</a></u></span>.</p><p class=\"western\">4. The body of the request should contain the constraints that would be used to filter out the payment(s).</p>","operationId":"Create_Sales","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"salesFilter","description":"ParameterType:PaymentFilter","required":false,"schema":{"$ref":"#/definitions/PaymentFilter"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}},"example":{"constraints":{"franchiseeNo":{"clause":"EQUAL","values":["403951414"]}},"page":{"pageId":"1","pageSize":"100"}}}}}},"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NewPaymentFilter"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"Character":{"type":"object","title":"Character"},"FilterConstraint":{"type":"object","title":"FilterConstraint","description":"This model is used for filter-contraints having field operation and values "},"Map«string,List«Map«string,object»»»":{"type":"object","title":"Map«string,List«Map«string,object»»»","additionalProperties":{"$ref":"#/definitions/List"}},"Map«string,object»":{"type":"object","title":"Map«string,object»","additionalProperties":{"type":"object"}},"Map«string,string»":{"type":"object","title":"Map«string,string»","additionalProperties":{"type":"string"}},"Page":{},"PaymentFilter":{},"ProfitLossFilter":{},"Response«Result«List«List«Map«string,string»»»»»":{},"Response«Result«List«Map«string,List«Map«string,object»»»»»»":{},"Response«Result«List«Map«string,object»»»»":{"type":"object","properties":{"response":{"$ref":"#/definitions/Result«List«Map«string,object»»»"}},"title":"Response«Result«List«Map«string,object»»»»"},"Result«List«List«Map«string,string»»»»":{},"List":{},"Result«List«Map«string,List«Map«string,object»»»»»":{},"Result«List«Map«string,object»»»":{},"RoyaltyFilter":{},"SalesFilter":{},"Sort":{"type":"object","properties":{"columns":{"type":"array","items":{"type":"string"}},"direction":{"type":"string","enum":["ASC","DESC"]}},"title":"Sort"},"NewPaymentFilter":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"}},"example":{"response":{"data":[{"298031988":{"paymentMappingId":"298031988","paymentID":"1708095951","franchiseRoyaltyId":"1928694199","invoiceNo":"6","paymentNo":"1","amountApplied":"35.00","dateApplied":"2019-06-26 08:32:12","franchiseeNo":"403951414","parentId":null,"royaltyType":"All","dateReceived":"2019-06-26","collectionMethod":"Cash","refNo":"","submitDate":"2019-06-26 08:32:11","openBalance":"0.0","memo":"test"},"497802296":{"paymentMappingId":"497802296","paymentID":"1708095951","franchiseRoyaltyId":"1928694199","invoiceNo":"6","paymentNo":"1","amountApplied":"350.00","dateApplied":"2019-06-26 08:32:11","franchiseeNo":"403951414","parentId":null,"royaltyType":"All","dateReceived":"2019-06-26","collectionMethod":"--","refNo":"","submitDate":"2019-06-26 08:32:11","openBalance":"0.0","memo":"test"},"732473447":{"paymentMappingId":"732473447","paymentID":"1708095951","franchiseRoyaltyId":"1928694199","invoiceNo":"6","paymentNo":"1","amountApplied":"215.0","dateApplied":"2019-06-26 08:32:12","franchiseeNo":"403951414","parentId":null,"royaltyType":"All","dateReceived":"2019-06-26","collectionMethod":"--","refNo":"","submitDate":"2019-06-26 08:32:11","openBalance":"0.0","memo":"test"},"response":"Success"}],"page":null}}},"createSales":{},"salesRetrieve":{},"salesUpdate":{},"financeCategories":{},"kpicategories":{},"additionalLineItems":{},"salesReportPeriod":{},"salesStatus":{},"salesReportType":{}}}
